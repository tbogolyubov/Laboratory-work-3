#include <iostream>
#include <string>
#include <math.h>

using namespace std;

int main()
{
	cout << "Введите идентификаторы первого поля и второго поля:" << endl;
	int k, l, m, n;
	string f;

	cin >> k >> l >> m >> n;

	if ((k + l) % 2 == (m + n) % 2)
	{
		cout << "Поля являются одинаковыми." << endl;
	}
	else {
		cout << "Поля являются разными." << endl;
	}

	cout << "Введите название фигуры, которая расположена на поле: ферзь, ладья, слон или конь:" << endl;

	cin >> f;

	if (f == "ладья")
	{
		if ((k == m) || (l == n))
		{
			cout << "Ладья угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за один ход." << endl;
		}
		else {
			cout << "Ладья не угрожает полю" << " " << m << n << "." << endl;
			int x, y;
			x = m;
			y = l;
			cout << "На поле можно попасть за два хода:" << endl;
			cout << "Первый ход:" << " " << x << ", " << y << "." << endl;
			cout << "Второй ход:" << " " << m << ", " << n << "." << endl;
		}
	}
	if (f == "ферзь")
	{
		int printed = 0;
		if (((k + l) == (m + n)) || ((l + m == k + n)) || ((k == m) || (l == n)))
		{
			cout << "Ферзь угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за один ход." << endl;
			printed = 1;
		}
		else {
			// пробежимся по всем ячейкам
			for (int i = k, j = l; i >= 1 && j >= 1; i--, j--) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Ферзь не угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за два хода через поле" << " " << i << j << "." << endl;
					printed = 1;
				}
			}

			for (int i = k, j = l; i <= 8 && j <= 8; i++, j++) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Ферзь не угрожает полю" << " " << m << n << "." << " "<< "На поле можно попасть за два хода через поле" << " " << i << j << "." << endl;
					printed = 1;
				}
			}

			for (int i = k, j = l; i >= 1 && j <= 8; i--, j++) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Ферзь не угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за два хода через поле" << " " << i << j << "." << endl;
					printed = 1;
				}
			}

			for (int i = k, j = l; i <= 8 && j >= 1; i++, j--) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Ферзь не угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за два хода через поле" << i << " " << j << "." << endl;
					printed = 1;
				}
			}
			int x, y;
			x = m;
			y = l;
			cout << "На поле можно попасть за два хода:" << endl;
			cout << "Первый ход:" << " " << x << ", " << y << "." << endl;
			cout << "Второй ход:" << " " << m << ", " << n << "." << endl;
		}
	}
	if (f == "слон")
	{
		int printed = 0;
		if (((k + l) == (m + n)) || ((l + m == k + n)))
		{
			cout << "Слон угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за один ход." << endl;
			printed = 1;
		}
		else {
			// пробежимся по всем ячейкам
			for (int i = k, j = l; i >= 1 && j >= 1; i--, j--) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Слон не угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за два хода через поле" << " " << i << j << "." << endl;
					printed = 1;
				}
			}

			for (int i = k, j = l; i <= 8 && j <= 8; i++, j++) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Слон не угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за два хода через поле" << " " << i << j << "." << endl;
					printed = 1;
				}
			}

			for (int i = k, j = l; i >= 1 && j <= 8; i--, j++) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Слон не угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за два хода через поле" << " " << i << j << "." << endl;
					printed = 1;
				}
			}

			for (int i = k, j = l; i <= 8 && j >= 1; i++, j--) {
				if (printed == 0 && (abs(i - m) == abs(j - n)))
				{
					cout << "Слон не угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за два хода через поле" << i << " " << j << "." << endl;
					printed = 1;
				}
			}
			if (printed == 0) {
				cout << "На это поле нельзя попасть за два хода.";
			}
		}
	}
	if (f == "конь")
	{
		if (((m == k + 1) && ((n == l + 2) || (n == l - 2))) ||
			((m == k + 2) && ((n == l + 1) || (n == l - 1))) ||
			((m == k - 2) && ((n == l + 1) || (n == l - 1))) ||
			((m == k - 1) && ((n == l + 2) || (n == l - 2))))
		{
			cout << "Конь угрожает полю" << " " << m << n << "." << " " << "На поле можно попасть за один ход" << "." << endl;
		}
		else {
			cout << "Конь не угрожает полю" << " " << m << n << "." << " " << "На поле нельзя попасть за один ход." << endl;
		}
	}
	return 0;
}
